<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Evan Luthra Investments â€“ Portfolio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    /* =========================
       BASE STYLES
    ========================= */
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #ffffff;
      color: #111827;
    }

    body.dark {
      background: #020617;
      color: #e5e7eb;
    }

    a {
      color: #2563eb;
      text-decoration: none;
    }

    body.dark a {
      color: #93c5fd;
    }

    h2 {
      margin-top: 0;
    }

    /* =========================
       HEADER
    ========================= */
    .header {
      padding: 40px;
      background: linear-gradient(180deg, #020617, #020617);
      color: white;
    }

    .header img {
      width: 48px;
      margin-bottom: 12px;
    }

    .header a {
      color: #93c5fd;
    }

    /* =========================
       CONTROLS BAR
    ========================= */
    .controls {
      display: flex;
      gap: 10px;
      padding: 12px;
      background: #ffffff;
      border-radius: 10px;
      margin-bottom: 16px;
    }

    body.dark .controls {
      background: #020617;
    }

    input,
    select,
    button {
      padding: 8px 12px;
      border-radius: 6px;
      border: 1px solid #d1d5db;
      font-size: 14px;
    }

    body.dark input,
    body.dark select,
    body.dark button {
      background: #0f172a;
      color: #e5e7eb;
      border: 1px solid #334155;
    }

    input::placeholder {
      color: #9ca3af;
    }

    button {
      cursor: pointer;
      background: #111827;
      color: white;
      border: none;
    }

    body.dark button {
      background: #1f2937;
    }

    /* =========================
       TABLE
    ========================= */
    table {
      width: 100%;
      border-collapse: collapse;
    }

    th,
    td {
      padding: 12px;
      border-bottom: 1px solid #e5e7eb;
      text-align: left;
      vertical-align: middle;
    }

    body.dark th,
    body.dark td {
      border-color: #1f2937;
    }

    body.dark th {
      background: #020617;
    }

    /* =========================
       PROJECT CELL
    ========================= */
    .project-cell {
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .project-cell img {
      width: 20px;
      height: 20px;
      object-fit: contain;
      flex-shrink: 0;
    }

    /* =========================
       DARK MODE TOGGLE
    ========================= */
    .dark-toggle {
      position: fixed;
      top: 16px;
      right: 16px;
      cursor: pointer;
      font-size: 20px;
    }
  </style>
</head>

<body>
  <div class="dark-toggle" id="darkToggle">ðŸŒ™</div>

  <div class="header">
    <img src="logo.png" alt="Logo" />
    <h1>Evan Luthra Investments</h1>
    <p>
      Instagram: <a href="https://instagram.com/EvanLuthra">instagram.com/EvanLuthra</a><br />
      Twitter: <a href="https://x.com/evanluthra">x.com/evanluthra</a><br />
      Website: <a href="https://evanluthra.com">evanluthra.com</a>
    </p>
  </div>

  <div style="padding: 40px;">
    <h2>ðŸ’² Portfolio</h2>

    <div class="controls">
      <input id="search" placeholder="Search projects..." />
      <select id="categoryFilter">
        <option value="">All Categories</option>
      </select>
      <select id="sort">
        <option value="">Sort</option>
        <option value="name">Name</option>
      </select>
      <button id="exportCsvBtn">Export CSV</button>
    </div>

    <table>
      <thead>
        <tr>
          <th>Name</th>
          <th>Website</th>
          <th>Category</th>
          <th>Twitter</th>
          <th>Company Intro</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      /* =========================
         DARK MODE
      ========================= */
      const toggle = document.getElementById("darkToggle");
      if (localStorage.getItem("theme") === "dark") {
        document.body.classList.add("dark");
      }

      toggle.onclick = () => {
        document.body.classList.toggle("dark");
        localStorage.setItem(
          "theme",
          document.body.classList.contains("dark") ? "dark" : "light"
        );
      };

      /* =========================
         ADMIN VIA URL (?admin=true)
      ========================= */
      const params = new URLSearchParams(window.location.search);
      if (params.get("admin") === "true") {
        localStorage.setItem("role", "admin");
        history.replaceState({}, document.title, location.pathname);
      }

      const isAdmin = localStorage.getItem("role") === "admin";
      const exportBtn = document.getElementById("exportCsvBtn");
      if (!isAdmin && exportBtn) exportBtn.style.display = "none";

      /* =========================
         SAMPLE DATA (replace with your real data)
      ========================= */
      const projects = [
        {
          id: "stratos-network",
          name: "Stratos Network",
          icon: "icons/stratos-network.png",
          website: "https://www.thestratos.org",
          category: "DePIN",
          twitter: "https://x.com",
          intro: "Building the next generation of decentralized data mesh"
        },
        {
          id: "push-protocol",
          name: "Push Protocol",
          icon: "",
          website: "https://push.org",
          category: "Wallet",
          twitter: "https://x.com",
          intro: "Decentralized notifications and chats"
        }
      ];

      /* =========================
         RENDER TABLE
      ========================= */
      const tbody = document.getElementById("tableBody");

      function render(data) {
        tbody.innerHTML = "";
        data.forEach((p) => {
          const tr = document.createElement("tr");
          tr.innerHTML = `
            <td>
              <div class="project-cell">
                ${p.icon ? `<img src="${p.icon}" />` : ""}
                <a href="project.html?id=${p.id}">${p.name}</a>
              </div>
            </td>
            <td><a href="${p.website}" target="_blank">${p.website}</a></td>
            <td>${p.category}</td>
            <td><a href="${p.twitter}" target="_blank">x.com</a></td>
            <td>${p.intro}</td>
          `;
          tbody.appendChild(tr);
        });
      }

      render(projects);
    });
  </script>
</body>
</html>
