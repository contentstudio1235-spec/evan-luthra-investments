<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Evan Luthra Investments</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<header class="top-header">
  <div class="header-inner">
    <span class="header-title">Evan Luthra Investments</span>

    <!-- Dark mode toggle -->
    <button id="darkToggle" class="dark-toggle">ğŸŒ™</button>
  </div>
</header>


<!-- HERO BANNER -->
<section class="hero">
  <img src="assets/banner.jpeg" class="hero-bg" />
   <img
    src="assets/logo.avif"
    class="hero-logo"
    alt="KOL Capital"
  />
</section>


   <h1 class="main-title">Evan Luthra Investments</h1>


  <div class="intro">
  <ul class="social-list">
    <li>ğŸ“¸ Instagram: <a href="https://instagram.com/EvanLuthra">instagram.com/EvanLuthra</a></li>
    <li>ğŸ¦ Twitter: <a href="https://x.com/evanluthra">x.com/evanluthra</a></li>
    <li>âœˆï¸ Telegram: <a href="https://t.me/EvanLuthraVIP">t.me/EvanLuthraVIP</a></li>
    <li>ğŸŒ Explore: <a href="https://evanluthra.com">evanluthra.com</a></li>
  </ul>

  <p class="contact">
    If you would like an intro to any of these deals, reach out at
    <a href="mailto:Evan@EvanLuthra.com">Evan@EvanLuthra.com</a>
  </p>
</div>

<div class="divider-wrap">
  <div class="section-divider"></div>
  <div class="section-line"></div>
</div>



    <button id="darkToggle" class="dark-toggle">ğŸŒ™</button>
  </div>
</header>


<!-- ================= PORTFOLIO ================= -->
<h2>ğŸ’² Portfolio</h2>

<div class="controls">
  <input type="text" id="search" placeholder="Search projectsâ€¦" />

  <select id="categoryFilter">
    <option value="">All Categories</option>
  </select>

  <select id="sort">
    <option value="">Sort</option>
    <option value="az">Name Aâ€“Z</option>
    <option value="za">Name Zâ€“A</option>
    <option value="date">Newest</option>
  </select>

  <button id="exportCsv">Export CSV</button>
</div>

<table id="portfolio">
  <thead>
    <tr>
      <th>Name</th>
      <th>Website</th>
      <th>Category</th>
      <th>Twitter</th>
      <th>Company Intro</th>
    </tr>
  </thead>
  <tbody id="tableBody"></tbody>
</table>

<div class="pagination">
  <button id="prevPage">Prev</button>
  <span id="pageInfo"></span>
  <button id="nextPage">Next</button>
</div>

<!-- ================= DATA ================= -->
<script src="data.js"></script>

<script>
document.addEventListener("DOMContentLoaded", () => {

  let currentPage = 1;
  const PAGE_SIZE = 256;
  const ADMIN_KEY = "admin_projects";

  window.safeProjects = localStorage.getItem(ADMIN_KEY)
    ? JSON.parse(localStorage.getItem(ADMIN_KEY))
    : projects;

  if (!Array.isArray(safeProjects)) {
    console.error("Projects data failed to load");
    return;
  }

  const table  = document.getElementById("tableBody");
  const search = document.getElementById("search");
  const filter = document.getElementById("categoryFilter");
  const sort   = document.getElementById("sort");

  const prevBtn   = document.getElementById("prevPage");
  const nextBtn   = document.getElementById("nextPage");
  const exportBtn = document.getElementById("exportCsv");

  /* ---------- DARK MODE ---------- */
  const toggle = document.getElementById("darkToggle");
  if (localStorage.getItem("dark") === "true") {
    document.body.classList.add("dark");
  }
  toggle.onclick = () => {
    document.body.classList.toggle("dark");
    localStorage.setItem("dark", document.body.classList.contains("dark"));
  };

  /* ---------- CATEGORY COLORS ---------- */
  const CATEGORY_COLORS = {
    DePIN: "#e0f7fa",
    Wallet: "#e3f2fd",
    AI: "#fce4ec",
    DApp: "#e8f5e9",
    "Cross Chain": "#fff3e0",
    L1: "#ede7f6"
  };

  /* ---------- FILTER OPTIONS ---------- */
  const cats = new Set();
  safeProjects.forEach(p => p.category.forEach(c => cats.add(c)));
  cats.forEach(c => {
    const opt = document.createElement("option");
    opt.value = c;
    opt.textContent = c;
    filter.appendChild(opt);
  });

  function getFilteredList() {
    let list = [...safeProjects];

    const q = search.value.toLowerCase();
    if (q) {
      list = list.filter(p =>
        p.name.toLowerCase().includes(q) ||
        p.intro.toLowerCase().includes(q)
      );
    }

    if (filter.value) {
      list = list.filter(p => p.category.includes(filter.value));
    }

    if (sort.value === "az") list.sort((a,b) => a.name.localeCompare(b.name));
    if (sort.value === "za") list.sort((a,b) => b.name.localeCompare(a.name));
    if (sort.value === "date") list.sort((a,b) => new Date(b.date) - new Date(a.date));

    return list;
  }

  function render() {
    const list = getFilteredList();
    const totalPages = Math.ceil(list.length / PAGE_SIZE) || 1;
    currentPage = Math.min(Math.max(1, currentPage), totalPages);

    const start = (currentPage - 1) * PAGE_SIZE;
    const pageItems = list.slice(start, start + PAGE_SIZE);

    table.innerHTML = "";

    pageItems.forEach(p => {
      table.innerHTML += `
      <tr>
        <td>
          <div class="project-cell">
            ${p.icon ? `<img src="${p.icon}" class="icon">` : ""}
            <a href="project.html?id=${p.id}">${p.name}</a>
          </div>
        </td>
        <td><a href="${p.website}" target="_blank">${p.website.replace("https://","")}</a></td>
        <td>${p.category.map(c =>
          `<span class="tag" style="background:${CATEGORY_COLORS[c] || '#eee'}">${c}</span>`
        ).join(" ")}</td>
        <td><a href="${p.twitter}" target="_blank">x.com</a></td>
        <td>${p.intro}</td>
      </tr>`;
    });

    document.getElementById("pageInfo").textContent =
      `Page ${currentPage} of ${totalPages}`;
  }

  search.oninput = () => { currentPage = 1; render(); };
  filter.onchange = () => { currentPage = 1; render(); };
  sort.onchange   = () => { currentPage = 1; render(); };

  prevBtn.onclick = () => { if (currentPage > 1) { currentPage--; render(); } };
  nextBtn.onclick = () => { currentPage++; render(); };

  exportBtn.onclick = () => {
    const rows = [
      ["Name","Categories","Website","Twitter","Intro"],
      ...getFilteredList().map(p => [
        p.name,
        p.category.join("|"),
        p.website,
        p.twitter,
        p.intro
      ])
    ];

    const csv = rows.map(r => r.map(v => `"${v}"`).join(",")).join("\n");
    const blob = new Blob([csv], { type: "text/csv" });
    const a = document.createElement("a");
    a.href = URL.createObjectURL(blob);
    a.download = "portfolio.csv";
    a.click();
  };

  render();
});
document.addEventListener("DOMContentLoaded", () => {
  const toggle = document.getElementById("darkToggle");

  if (!localStorage.getItem("dark")) {
    localStorage.setItem("dark", "true");
  }

  if (localStorage.getItem("dark") === "true") {
    document.body.classList.add("dark");
  }

  toggle.onclick = () => {
    document.body.classList.toggle("dark");
    localStorage.setItem(
      "dark",
      document.body.classList.contains("dark")
    );
  };
});

</script>

</body>
</html>









